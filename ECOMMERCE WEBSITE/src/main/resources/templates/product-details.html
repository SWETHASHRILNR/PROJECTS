<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" th:replace="~{base::Layout(~{::section})}">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Product List</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
</head>

<body>
	<section>
		<!-- Product Details -->
		<div class="container my-5">
			<div class="row">
				<!-- Product Image -->
				<div class="col-md-6">
					<img th:src="@{'/images/' + ${product.imageFileName}}" class="img-fluid" alt="Product Image">
				</div>

				<!-- Product Information -->
				<div class="col-md-6">
					<h2 th:text="${product.name}">Product Name</h2>
					<p th:text="${product.description}">Product Description</p>
					<p><strong>Price:</strong> <span th:text="${product.price} + ' Rs.'">Price</span></p>

					<!-- Stock Availability -->
					<p>
						<strong>Stock Status:</strong>
						<span class="badge" th:classappend="${isInStock ? 'bg-success' : 'bg-danger'}"
							th:text="${isInStock ? 'In Stock' : 'Out of Stock'}">
							Stock Status
						</span>
					</p>

					<!-- Action Buttons -->
					<div class="d-flex justify-content-between mt-4">
						<!-- Buy Now Button -->
						<a th:href="@{/buyNow/{productId}(productId=${product.id})}" class="btn btn-success">Buy Now</a>

						<!-- Add to Cart Button (only if in stock) -->
						<a th:href="@{/addToCart/{productId}(productId=${product.id})}" class="btn btn-primary"
							th:if="${isInStock}">Add to Cart</a>

						<!-- Out of Stock Button (disabled) -->
						<button class="btn btn-secondary" disabled th:if="${!isInStock}">Out of Stock</button>
					</div>
				</div>
			</div>
		</div>
		</div>
		</div>
		</div>
	</section>
</body>